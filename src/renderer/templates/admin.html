<section id="view-admin" class="view">
    <div class="settings-container">
        <!-- System Settings -->
        <div class="settings-section">
            <h3>System Settings</h3>
            <div class="settings-form">
                <div class="form-group">
                    <label>Company Name</label>
                    <input type="text" id="admin-company-name" class="form-input">
                </div>
                <div class="form-group">
                    <label>Timezone</label>
                    <select id="admin-timezone" class="form-select">
                        <option value="UTC">UTC</option>
                        <option value="America/New_York">Eastern Time</option>
                        <option value="America/Chicago">Central Time</option>
                        <option value="America/Denver">Mountain Time</option>
                        <option value="America/Los_Angeles">Pacific Time</option>
                        <option value="Europe/London">London</option>
                        <option value="Europe/Berlin">Berlin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>QA Passing Score (%)</label>
                    <input type="number" id="admin-passing-score" class="form-input" min="0" max="100">
                </div>
                <button class="btn btn-primary" id="admin-save-settings-btn">Save Settings</button>
            </div>
        </div>

        <!-- Database Viewer -->
        <div class="settings-section">
            <h3>Database Viewer (Debug)</h3>
            <div class="settings-form">
                <div class="form-group">
                    <label>Select Table</label>
                    <select id="admin-db-table-select" class="form-select">
                        <option value="">-- Select Table --</option>
                        <option value="users">Users</option>
                        <option value="roles">Roles</option>
                        <option value="tickets">Tickets</option>
                        <option value="quality_reports">Quality Reports</option>
                        <option value="settings">Settings</option>
                        <option value="kc_questions">KC Questions</option>
                        <option value="kc_tests">KC Tests</option>
                        <option value="kc_test_runs">KC Test Runs</option>
                        <option value="kc_test_assignments">KC Assignments</option>
                        <option value="kc_test_results">KC Results</option>
                    </select>
                </div>
                <button class="btn btn-secondary" id="admin-db-view-btn">View Data</button>
                <div id="admin-db-viewer-output" style="margin-top: 1rem; max-height: 400px; overflow: auto; background: var(--bg-secondary); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 12px; white-space: pre-wrap;"></div>
            </div>
        </div>
        
        <!-- Database Migrations -->
        <div class="settings-section">
            <h3>Datenbank Migrationen</h3>
            <div class="settings-form">
                <div class="migration-item">
                    <div class="migration-info">
                        <strong>Verwaiste Test-Zuweisungen</strong>
                        <p>Weist alle Test-Zuweisungen ohne Test Durchlauf dem Standard-Durchlauf "Nicht Zugeteilt" zu.</p>
                        <span class="badge badge-secondary" id="admin-orphaned-count-badge">Prüfe...</span>
                    </div>
                    <button class="btn btn-secondary" id="admin-migrate-orphaned-btn">Migration ausführen</button>
                </div>
            </div>
        </div>
    </div>
</section>
